<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>6 Darwin Core mapping | Global Register of Introduced and Invasive Species - Belgium</title>
  <meta name="description" content="6 Darwin Core mapping | Global Register of Introduced and Invasive Species - Belgium" />
  <meta name="generator" content="bookdown 0.12 and GitBook 2.6.7" />

  <meta property="og:title" content="6 Darwin Core mapping | Global Register of Introduced and Invasive Species - Belgium" />
  <meta property="og:type" content="book" />
  
  
  
  <meta name="github-repo" content="trias-project/unified-checklist" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="6 Darwin Core mapping | Global Register of Introduced and Invasive Species - Belgium" />
  
  
  

<meta name="author" content="Peter Desmet, Lien Reyserhove, Damiano Oldoni" />


<meta name="date" content="2019-10-13" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="5_unify_information.html">
<link rel="next" href="7_griis_mapping.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<link href="libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="libs/pagedtable-1.1/js/pagedtable.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="1_get_taxa.html"><a href="1_get_taxa.html"><i class="fa fa-check"></i><b>1</b> Get taxa from checklists</a><ul>
<li class="chapter" data-level="1.1" data-path="1_get_taxa.html"><a href="1_get_taxa.html#choose-checklists"><i class="fa fa-check"></i><b>1.1</b> Choose checklists</a></li>
<li class="chapter" data-level="1.2" data-path="1_get_taxa.html"><a href="1_get_taxa.html#get-taxa"><i class="fa fa-check"></i><b>1.2</b> Get taxa</a></li>
<li class="chapter" data-level="1.3" data-path="1_get_taxa.html"><a href="1_get_taxa.html#filter-on-distribution"><i class="fa fa-check"></i><b>1.3</b> Filter on distributions</a></li>
<li class="chapter" data-level="1.4" data-path="1_get_taxa.html"><a href="1_get_taxa.html#get-gbif-backbone-taxonomy-information"><i class="fa fa-check"></i><b>1.4</b> Get GBIF backbone taxonomy information</a></li>
<li class="chapter" data-level="1.5" data-path="1_get_taxa.html"><a href="1_get_taxa.html#show-summary-and-save"><i class="fa fa-check"></i><b>1.5</b> Show summary and save</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="2_get_information.html"><a href="2_get_information.html"><i class="fa fa-check"></i><b>2</b> Get related information</a><ul>
<li class="chapter" data-level="2.1" data-path="2_get_information.html"><a href="2_get_information.html#read-taxa"><i class="fa fa-check"></i><b>2.1</b> Read taxa</a></li>
<li class="chapter" data-level="2.2" data-path="2_get_information.html"><a href="2_get_information.html#get-distributions"><i class="fa fa-check"></i><b>2.2</b> Get distributions</a></li>
<li class="chapter" data-level="2.3" data-path="2_get_information.html"><a href="2_get_information.html#get-species-profiles"><i class="fa fa-check"></i><b>2.3</b> Get species profiles</a></li>
<li class="chapter" data-level="2.4" data-path="2_get_information.html"><a href="2_get_information.html#get-descriptions"><i class="fa fa-check"></i><b>2.4</b> Get descriptions</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="3_verify_taxa.html"><a href="3_verify_taxa.html"><i class="fa fa-check"></i><b>3</b> Verify taxa</a><ul>
<li class="chapter" data-level="3.1" data-path="3_verify_taxa.html"><a href="3_verify_taxa.html#read-taxa-1"><i class="fa fa-check"></i><b>3.1</b> Read taxa</a></li>
<li class="chapter" data-level="3.2" data-path="3_verify_taxa.html"><a href="3_verify_taxa.html#verification"><i class="fa fa-check"></i><b>3.2</b> Read verification information</a></li>
<li class="chapter" data-level="3.3" data-path="3_verify_taxa.html"><a href="3_verify_taxa.html#run-and-save-verification"><i class="fa fa-check"></i><b>3.3</b> Run and save verification</a></li>
<li class="chapter" data-level="3.4" data-path="3_verify_taxa.html"><a href="3_verify_taxa.html#show-verification-status"><i class="fa fa-check"></i><b>3.4</b> Show verification status</a><ul>
<li class="chapter" data-level="3.4.1" data-path="3_verify_taxa.html"><a href="3_verify_taxa.html#unmatched-taxa"><i class="fa fa-check"></i><b>3.4.1</b> Unmatched taxa</a></li>
<li class="chapter" data-level="3.4.2" data-path="3_verify_taxa.html"><a href="3_verify_taxa.html#synonyms"><i class="fa fa-check"></i><b>3.4.2</b> Synonyms</a></li>
<li class="chapter" data-level="3.4.3" data-path="3_verify_taxa.html"><a href="3_verify_taxa.html#accepted-taxa"><i class="fa fa-check"></i><b>3.4.3</b> Accepted taxa</a></li>
<li class="chapter" data-level="3.4.4" data-path="3_verify_taxa.html"><a href="3_verify_taxa.html#erroneous-verificationkeys"><i class="fa fa-check"></i><b>3.4.4</b> Erroneous verificationKeys</a></li>
<li class="chapter" data-level="3.4.5" data-path="3_verify_taxa.html"><a href="3_verify_taxa.html#additional-information"><i class="fa fa-check"></i><b>3.4.5</b> Additional information</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="4_unify_taxa.html"><a href="4_unify_taxa.html"><i class="fa fa-check"></i><b>4</b> Unify taxa</a><ul>
<li class="chapter" data-level="4.1" data-path="4_unify_taxa.html"><a href="4_unify_taxa.html#read-taxa-2"><i class="fa fa-check"></i><b>4.1</b> Read taxa</a></li>
<li class="chapter" data-level="4.2" data-path="4_unify_taxa.html"><a href="4_unify_taxa.html#unify-taxa-1"><i class="fa fa-check"></i><b>4.2</b> Unify taxa</a></li>
<li class="chapter" data-level="4.3" data-path="4_unify_taxa.html"><a href="4_unify_taxa.html#get-gbif-backbone-taxonomy-information-1"><i class="fa fa-check"></i><b>4.3</b> Get GBIF backbone taxonomy information</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="5_unify_information.html"><a href="5_unify_information.html"><i class="fa fa-check"></i><b>5</b> Unify related information</a><ul>
<li class="chapter" data-level="5.1" data-path="5_unify_information.html"><a href="5_unify_information.html#read-data"><i class="fa fa-check"></i><b>5.1</b> Read data</a></li>
<li class="chapter" data-level="5.2" data-path="5_unify_information.html"><a href="5_unify_information.html#assign-checklist-order"><i class="fa fa-check"></i><b>5.2</b> Assign checklist order</a></li>
<li class="chapter" data-level="5.3" data-path="5_unify_information.html"><a href="5_unify_information.html#unify-distribution"><i class="fa fa-check"></i><b>5.3</b> Unify distribution</a></li>
<li class="chapter" data-level="5.4" data-path="5_unify_information.html"><a href="5_unify_information.html#unify-species-profiles"><i class="fa fa-check"></i><b>5.4</b> Unify species profiles</a></li>
<li class="chapter" data-level="5.5" data-path="5_unify_information.html"><a href="5_unify_information.html#unify-descriptions"><i class="fa fa-check"></i><b>5.5</b> Unify descriptions</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="6_dwc_mapping.html"><a href="6_dwc_mapping.html"><i class="fa fa-check"></i><b>6</b> Darwin Core mapping</a><ul>
<li class="chapter" data-level="6.1" data-path="6_dwc_mapping.html"><a href="6_dwc_mapping.html#read-unified-data"><i class="fa fa-check"></i><b>6.1</b> Read unified data</a></li>
<li class="chapter" data-level="6.2" data-path="6_dwc_mapping.html"><a href="6_dwc_mapping.html#preview-data"><i class="fa fa-check"></i><b>6.2</b> Preview data</a></li>
<li class="chapter" data-level="6.3" data-path="6_dwc_mapping.html"><a href="6_dwc_mapping.html#citing-sources"><i class="fa fa-check"></i><b>6.3</b> How we cite our sources</a></li>
<li class="chapter" data-level="6.4" data-path="6_dwc_mapping.html"><a href="6_dwc_mapping.html#taxon-core"><i class="fa fa-check"></i><b>6.4</b> Taxon core</a><ul>
<li class="chapter" data-level="6.4.1" data-path="6_dwc_mapping.html"><a href="6_dwc_mapping.html#pre-processing"><i class="fa fa-check"></i><b>6.4.1</b> Pre-processing</a></li>
<li class="chapter" data-level="6.4.2" data-path="6_dwc_mapping.html"><a href="6_dwc_mapping.html#term-mapping"><i class="fa fa-check"></i><b>6.4.2</b> Term mapping</a></li>
<li class="chapter" data-level="6.4.3" data-path="6_dwc_mapping.html"><a href="6_dwc_mapping.html#post-processing"><i class="fa fa-check"></i><b>6.4.3</b> Post-processing</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="6_dwc_mapping.html"><a href="6_dwc_mapping.html#distribution-extension"><i class="fa fa-check"></i><b>6.5</b> Distribution extension</a><ul>
<li class="chapter" data-level="6.5.1" data-path="6_dwc_mapping.html"><a href="6_dwc_mapping.html#pre-processing-1"><i class="fa fa-check"></i><b>6.5.1</b> Pre-processing</a></li>
<li class="chapter" data-level="6.5.2" data-path="6_dwc_mapping.html"><a href="6_dwc_mapping.html#term-mapping-1"><i class="fa fa-check"></i><b>6.5.2</b> Term mapping</a></li>
<li class="chapter" data-level="6.5.3" data-path="6_dwc_mapping.html"><a href="6_dwc_mapping.html#post-processing-1"><i class="fa fa-check"></i><b>6.5.3</b> Post-processing</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="6_dwc_mapping.html"><a href="6_dwc_mapping.html#species-profile-extension"><i class="fa fa-check"></i><b>6.6</b> Species profile extension</a><ul>
<li class="chapter" data-level="6.6.1" data-path="6_dwc_mapping.html"><a href="6_dwc_mapping.html#term-mapping-2"><i class="fa fa-check"></i><b>6.6.1</b> Term mapping</a></li>
<li class="chapter" data-level="6.6.2" data-path="6_dwc_mapping.html"><a href="6_dwc_mapping.html#post-processing-2"><i class="fa fa-check"></i><b>6.6.2</b> Post-processing</a></li>
</ul></li>
<li class="chapter" data-level="6.7" data-path="6_dwc_mapping.html"><a href="6_dwc_mapping.html#description-extension"><i class="fa fa-check"></i><b>6.7</b> Description extension</a><ul>
<li class="chapter" data-level="6.7.1" data-path="6_dwc_mapping.html"><a href="6_dwc_mapping.html#pre-processing-2"><i class="fa fa-check"></i><b>6.7.1</b> Pre-processing</a></li>
<li class="chapter" data-level="6.7.2" data-path="6_dwc_mapping.html"><a href="6_dwc_mapping.html#term-mapping-3"><i class="fa fa-check"></i><b>6.7.2</b> Term mapping</a></li>
<li class="chapter" data-level="6.7.3" data-path="6_dwc_mapping.html"><a href="6_dwc_mapping.html#post-processing-3"><i class="fa fa-check"></i><b>6.7.3</b> Post-processing</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="7_griis_mapping.html"><a href="7_griis_mapping.html"><i class="fa fa-check"></i><b>7</b> GRIIS mapping</a><ul>
<li class="chapter" data-level="7.1" data-path="7_griis_mapping.html"><a href="7_griis_mapping.html#read-darwin-core-data"><i class="fa fa-check"></i><b>7.1</b> Read Darwin Core data</a></li>
<li class="chapter" data-level="7.2" data-path="7_griis_mapping.html"><a href="7_griis_mapping.html#griis-format"><i class="fa fa-check"></i><b>7.2</b> GRIIS format</a><ul>
<li class="chapter" data-level="7.2.1" data-path="7_griis_mapping.html"><a href="7_griis_mapping.html#pre-processing-3"><i class="fa fa-check"></i><b>7.2.1</b> Pre-processing</a></li>
<li class="chapter" data-level="7.2.2" data-path="7_griis_mapping.html"><a href="7_griis_mapping.html#term-mapping-4"><i class="fa fa-check"></i><b>7.2.2</b> Term mapping</a></li>
<li class="chapter" data-level="7.2.3" data-path="7_griis_mapping.html"><a href="7_griis_mapping.html#eventdate-1"><i class="fa fa-check"></i><b>7.2.3</b> eventDate</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="7_griis_mapping.html"><a href="7_griis_mapping.html#post-processing-4"><i class="fa fa-check"></i><b>7.3</b> Post-processing</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="8_get_synonyms.html"><a href="8_get_synonyms.html"><i class="fa fa-check"></i><b>8</b> Get synonyms of all accepted taxa</a><ul>
<li class="chapter" data-level="8.1" data-path="8_get_synonyms.html"><a href="8_get_synonyms.html#get-unified-taxa"><i class="fa fa-check"></i><b>8.1</b> Get unified taxa</a></li>
<li class="chapter" data-level="8.2" data-path="8_get_synonyms.html"><a href="8_get_synonyms.html#find-synonyms"><i class="fa fa-check"></i><b>8.2</b> Find synonyms</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Global Register of Introduced and Invasive Species - Belgium</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="darwin-core-mapping" class="section level1">
<h1><span class="header-section-number">6</span> Darwin Core mapping</h1>
<p>In this chapter we standardize the unified information to a Darwin Core checklist that can be harvested by GBIF.</p>
<div id="read-unified-data" class="section level2">
<h2><span class="header-section-number">6.1</span> Read unified data</h2>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" title="1">checklists &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="kw">here</span>(<span class="st">&quot;data&quot;</span>, <span class="st">&quot;raw&quot;</span>, <span class="st">&quot;checklists.csv&quot;</span>))</a>
<a class="sourceLine" id="cb17-2" title="2">input_taxa &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="kw">here</span>(<span class="st">&quot;data&quot;</span>, <span class="st">&quot;interim&quot;</span>, <span class="st">&quot;taxa_unified.csv&quot;</span>))</a>
<a class="sourceLine" id="cb17-3" title="3">input_distributions &lt;-<span class="st"> </span><span class="kw">read_csv</span>(</a>
<a class="sourceLine" id="cb17-4" title="4">  <span class="kw">here</span>(<span class="st">&quot;data&quot;</span>, <span class="st">&quot;interim&quot;</span>, <span class="st">&quot;distributions_unified.csv&quot;</span>),</a>
<a class="sourceLine" id="cb17-5" title="5">  <span class="dt">na =</span> <span class="st">&quot;&quot;</span>,</a>
<a class="sourceLine" id="cb17-6" title="6">  <span class="dt">col_types =</span> <span class="kw">cols</span>(</a>
<a class="sourceLine" id="cb17-7" title="7">    <span class="dt">.default =</span> <span class="kw">col_character</span>(),</a>
<a class="sourceLine" id="cb17-8" title="8">    <span class="dt">verificationKey =</span> <span class="kw">col_double</span>(),</a>
<a class="sourceLine" id="cb17-9" title="9">    <span class="dt">startYear =</span> <span class="kw">col_double</span>(),</a>
<a class="sourceLine" id="cb17-10" title="10">    <span class="dt">endYear =</span> <span class="kw">col_double</span>()</a>
<a class="sourceLine" id="cb17-11" title="11">  )</a>
<a class="sourceLine" id="cb17-12" title="12">)</a>
<a class="sourceLine" id="cb17-13" title="13">input_speciesprofiles &lt;-<span class="st"> </span><span class="kw">read_csv</span>(</a>
<a class="sourceLine" id="cb17-14" title="14">  <span class="kw">here</span>(<span class="st">&quot;data&quot;</span>, <span class="st">&quot;interim&quot;</span>, <span class="st">&quot;speciesprofiles_unified.csv&quot;</span>)</a>
<a class="sourceLine" id="cb17-15" title="15">)</a>
<a class="sourceLine" id="cb17-16" title="16">input_descriptions &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="kw">here</span>(<span class="st">&quot;data&quot;</span>, <span class="st">&quot;interim&quot;</span>, <span class="st">&quot;descriptions_unified.csv&quot;</span>))</a></code></pre></div>
</div>
<div id="preview-data" class="section level2">
<h2><span class="header-section-number">6.2</span> Preview data</h2>
<ol style="list-style-type: decimal">
<li>Number of rows per file and corresponding mapping section in this chapter:</li>
</ol>
<table>
<thead>
<tr class="header">
<th>File</th>
<th>Number of rows</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>taxa</td>
<td>2881</td>
</tr>
<tr class="even">
<td>distributions</td>
<td>7041</td>
</tr>
<tr class="odd">
<td>speciesprofiles</td>
<td>2837</td>
</tr>
<tr class="even">
<td>descriptions</td>
<td>10570</td>
</tr>
</tbody>
</table>
<ol start="2" style="list-style-type: decimal">
<li>Number of taxa per checklist:</li>
</ol>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["doi"],"name":[1],"type":["chr"],"align":["left"]},{"label":["unique"],"name":[2],"type":["int"],"align":["right"]},{"label":["shared"],"name":[3],"type":["int"],"align":["right"]},{"label":["title"],"name":[4],"type":["chr"],"align":["left"]},{"label":["datasetKey"],"name":[5],"type":["chr"],"align":["left"]}],"data":[{"1":"https://doi.org/10.15468/wtda1m","2":"2157","3":"50","4":"Manual of the Alien Plants of Belgium","5":"9ff7d317-609b-4c08-bd86-3bc404b77c42"},{"1":"https://doi.org/10.15468/yxcq07","2":"31","3":"41","4":"Inventory of alien macroinvertebrates in Flanders, Belgium","5":"289244ee-e1c1-49aa-b2d7-d379391ce265"},{"1":"https://doi.org/10.15468/xvuzfh","2":"8","3":"17","4":"Checklist of non-native freshwater fishes in Flanders, Belgium","5":"98940a79-2bf1-46e6-afd6-ba2e85a26f9f"},{"1":"https://doi.org/10.15468/t13kwo","2":"8","3":"12","4":"Registry of introduced terrestrial molluscs in Belgium","5":"e082b10e-476f-43c1-aa61-f8d92f33029a"},{"1":"https://doi.org/10.15468/wr3gis","2":"228","3":"13","4":"Checklist of alien birds of Belgium","5":"e1c3be64-2799-4342-8312-49d076993132"},{"1":"https://doi.org/10.14284/347","2":"41","3":"38","4":"World Register of Introduced Marine Species (WRiMS)","5":"0a2eaf0c-5504-4f48-a47f-c94229029dc8"},{"1":"https://doi.org/10.15468/2dboyn","2":"13","3":"NA","4":"Catalogue of the Rust Fungi of Belgium","5":"b043c480-dd36-4f4f-aa82-e188753ff09d"},{"1":"https://doi.org/10.15468/3pmlxs","2":"219","3":"37","4":"Ad hoc checklist of alien species in Belgium","5":"1f3505cd-5d98-4e23-bd3b-ffe59d05d7c2"},{"1":"https://doi.org/10.15468/guejza","2":"27","3":"115","4":"RINSE - Pathways and vectors of biological invasions in Northwest Europe","5":"1738f272-6b5d-4f43-9a92-453a8c5ea50a"},{"1":"https://doi.org/10.15468/39omei","2":"NA","3":"NA","4":"GBIF Backbone Taxonomy","5":"d7dddbf4-2cf0-4f39-9b2a-bb099caae36c"},{"1":"Total","2":"2732","3":"323","4":"-","5":"-"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<ol start="3" style="list-style-type: decimal">
<li>Number of taxa per kingdom:</li>
</ol>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["kingdom"],"name":[1],"type":["chr"],"align":["left"]},{"label":["taxa"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"Animalia","2":"635"},{"1":"Chromista","2":"2"},{"1":"Fungi","2":"23"},{"1":"Plantae","2":"2220"},{"1":"Protozoa","2":"1"},{"1":"Total","2":"2881"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<ol start="4" style="list-style-type: decimal">
<li>Number of taxa per rank:</li>
</ol>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["rank"],"name":[1],"type":["chr"],"align":["left"]},{"label":["taxa"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"GENUS","2":"11"},{"1":"SPECIES","2":"2747"},{"1":"SUBSPECIES","2":"103"},{"1":"VARIETY","2":"20"},{"1":"Total","2":"2881"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<ol start="5" style="list-style-type: decimal">
<li>Number of taxa and descriptions per type:</li>
</ol>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["type"],"name":[1],"type":["chr"],"align":["left"]},{"label":["taxa"],"name":[2],"type":["int"],"align":["right"]},{"label":["unique taxa"],"name":[3],"type":["int"],"align":["right"]},{"label":["unique descriptions"],"name":[4],"type":["int"],"align":["right"]}],"data":[{"1":"degree of establishment","2":"67","3":"67","4":"11"},{"1":"Introduced species abundance","2":"105","3":"34","4":"72"},{"1":"Introduced species impact","2":"197","3":"40","4":"136"},{"1":"Introduced species management","2":"4","3":"3","4":"4"},{"1":"Introduced species population trend","2":"25","3":"11","4":"25"},{"1":"Introduced species remark","2":"92","3":"27","4":"92"},{"1":"Introduced species vector dispersal","2":"361","3":"70","4":"216"},{"1":"invasion stage","2":"2467","3":"2464","4":"4"},{"1":"native range","2":"4104","3":"2686","4":"149"},{"1":"pathway","2":"3148","3":"2474","4":"41"},{"1":"Total","2":"10570","3":"7876","4":"750"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div id="citing-sources" class="section level2">
<h2><span class="header-section-number">6.3</span> How we cite our sources</h2>
<p>Each row of information in the Taxon core and the extensions is based on a specific source:</p>
<table>
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead>
<tr class="header">
<th>File</th>
<th>Source</th>
<th>Field for citation</th>
<th>Mapping section</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Taxon core</td>
<td>a taxon in the <a href="https://doi.org/10.15468/39omei">GBIF Backbone Taxonomy</a></td>
<td><code>bibliographicCitation</code></td>
<td><a href="6_dwc_mapping.html#taxon-core">6.4</a></td>
</tr>
<tr class="even">
<td>Distribution extension</td>
<td>one or more taxa in a source checklist</td>
<td><code>source</code></td>
<td><a href="6_dwc_mapping.html#distribution-extension">6.5</a></td>
</tr>
<tr class="odd">
<td>Species profile extension</td>
<td>a taxon in a source checklist</td>
<td><code>source</code></td>
<td><a href="6_dwc_mapping.html#species-profile-extension">6.6</a></td>
</tr>
<tr class="even">
<td>Description extension</td>
<td>a taxon in a source checklist</td>
<td><code>source</code></td>
<td><a href="6_dwc_mapping.html#description-extension">6.7</a></td>
</tr>
</tbody>
</table>
<p>To reference this source, we will use the <strong>GBIF citation format for species pages</strong>, prefixed with the URL of that page. E.g. for the distribution of <em>Nymphea marliacea Marliac</em> this would be:</p>
<blockquote>
<p><a href="https://www.gbif.org/species/141264581" class="uri">https://www.gbif.org/species/141264581</a>: Nymphaea marliacea Marliac in Verloove F, Groom Q, Brosens D, Desmet P, Reyserhove L (2018). Manual of the Alien Plants of Belgium. Version 1.7. Botanic Garden Meise. Checklist dataset <a href="https://doi.org/10.15468/wtda1m" class="uri">https://doi.org/10.15468/wtda1m</a>.</p>
</blockquote>
<p>This information is a combination of:</p>
<ul>
<li><code>taxonKey</code>: e.g. <code>1412645812</code> (contained in <code>distributions.csv</code>),</li>
<li><code>scientificName</code>: e.g. <code>Nymphaea marliacea Marliac</code> (contained in <code>distributions.csv</code>),</li>
<li><code>citation</code>: e.g. <code>Verloove F, Groom Q, Brosens D, Desmet P, Reyserhove L (2018). Manual of the Alien Plants of Belgium. Version 1.7. Botanic Garden Meise. Checklist dataset https://doi.org/10.15468/wtda1m.</code> (contained in <code>checklists.csv</code>)</li>
</ul>
<p>To generate this full citation, we create a helper function <code>add_source_citation(df, new_column, dataset_info)</code>.</p>
</div>
<div id="taxon-core" class="section level2">
<h2><span class="header-section-number">6.4</span> Taxon core</h2>
<div id="pre-processing" class="section level3">
<h3><span class="header-section-number">6.4.1</span> Pre-processing</h3>
<ol style="list-style-type: decimal">
<li><p>Create a dataframe <code>taxon</code> from the unified taxa.</p></li>
<li><p>Separate <code>canonicalName</code> in <code>canonicalName_genus</code>, <code>canonicalName_species</code> and <code>canonicalName_infraspecific</code> (on whitespace).</p></li>
</ol>
</div>
<div id="term-mapping" class="section level3">
<h3><span class="header-section-number">6.4.2</span> Term mapping</h3>
<p>Map the data to <a href="http://rs.gbif.org/core/dwc_taxon_2015-04-24.xml">Darwin Core Taxon</a>.</p>
<div id="language" class="section level4">
<h4><span class="header-section-number">6.4.2.1</span> language</h4>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" title="1">taxon <span class="op">%&lt;&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">dwc_language =</span> <span class="st">&quot;en&quot;</span>)</a></code></pre></div>
</div>
<div id="license" class="section level4">
<h4><span class="header-section-number">6.4.2.2</span> license</h4>
<p>The license under which (each record of) the unified checklist will be published should be the most restrictive license of the source checklists. The <strong>potential licenses</strong> are the three Creative Commons licenses <a href="https://www.gbif.org/terms">supported by GBIF</a> (ordered from least to most restrictive):</p>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["license"],"name":[1],"type":["chr"],"align":["left"]},{"label":["ranking"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"http://creativecommons.org/publicdomain/zero/1.0/legalcode","2":"1"},{"1":"http://creativecommons.org/licenses/by/4.0/legalcode","2":"2"},{"1":"http://creativecommons.org/licenses/by-nc/4.0/legalcode","2":"3"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>The <strong>actual licenses</strong> of the source checklists <em>and</em> the <a href="https://doi.org/10.15468/39omei">GBIF Backbone Taxonomy</a> (which we use for the taxon core) are:</p>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["license"],"name":[1],"type":["chr"],"align":["left"]},{"label":["n"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"http://creativecommons.org/licenses/by/4.0/legalcode","2":"2"},{"1":"http://creativecommons.org/publicdomain/zero/1.0/legalcode","2":"8"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Based on the above <code>ranking</code>, the most restrictive license is:</p>
<pre><code>## [1] &quot;http://creativecommons.org/licenses/by/4.0/legalcode&quot;</code></pre>
<p>Which we use for our <code>license</code>:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" title="1">taxon <span class="op">%&lt;&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">dwc_license =</span> most_restrictive_license)</a></code></pre></div>
</div>
<div id="rightsholder" class="section level4">
<h4><span class="header-section-number">6.4.2.3</span> rightsHolder</h4>
<p>We do not set <code>rightsHolder</code> as the taxon and its related information is based on different source checklists (which in turn are based on other sources), published by different organizations, and mostly released under CC0. Instead, we make an effort to cite the sources (see <a href="6_dwc_mapping.html#citing-sources">6.3</a>).</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" title="1">taxon <span class="op">%&lt;&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">dwc_rightsHolder =</span> <span class="ot">NA</span>)</a></code></pre></div>
</div>
<div id="bibliographiccitation" class="section level4">
<h4><span class="header-section-number">6.4.2.4</span> bibliographicCitation</h4>
<p>See <a href="6_dwc_mapping.html#citing-sources">6.3</a>:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb22-1" title="1"><span class="co"># Add temporary field with datasetKey of GBIF Backbone Taxonomy</span></a>
<a class="sourceLine" id="cb22-2" title="2"><span class="co"># taxon %&lt;&gt;% mutate(datasetKey = &quot;d7dddbf4-2cf0-4f39-9b2a-bb099caae36c&quot;)</span></a>
<a class="sourceLine" id="cb22-3" title="3"></a>
<a class="sourceLine" id="cb22-4" title="4">taxon <span class="op">%&lt;&gt;%</span><span class="st"> </span><span class="kw">add_source_citation</span>(</a>
<a class="sourceLine" id="cb22-5" title="5">  <span class="dt">new_column =</span> <span class="st">&quot;dwc_bibliographicCitation&quot;</span>,</a>
<a class="sourceLine" id="cb22-6" title="6">  <span class="dt">dataset_info =</span> checklists,</a>
<a class="sourceLine" id="cb22-7" title="7">  <span class="dt">taxon_key =</span> <span class="st">&quot;verificationKey&quot;</span></a>
<a class="sourceLine" id="cb22-8" title="8">)</a></code></pre></div>
</div>
<div id="datasetid" class="section level4">
<h4><span class="header-section-number">6.4.2.5</span> datasetID</h4>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb23-1" title="1">taxon <span class="op">%&lt;&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">dwc_datasetID =</span> <span class="st">&quot;https://doi.org/10.15468/xoidmd&quot;</span>)</a></code></pre></div>
</div>
<div id="institutioncode" class="section level4">
<h4><span class="header-section-number">6.4.2.6</span> institutionCode</h4>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb24-1" title="1">taxon <span class="op">%&lt;&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">dwc_institutionCode =</span> <span class="st">&quot;ISSG&quot;</span>) <span class="co"># Invasive Species Specialist Group ISSG</span></a></code></pre></div>
</div>
<div id="datasetname" class="section level4">
<h4><span class="header-section-number">6.4.2.7</span> datasetName</h4>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb25-1" title="1">taxon <span class="op">%&lt;&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">dwc_datasetName =</span> <span class="st">&quot;Global Register of Introduced and Invasive Species - Belgium&quot;</span>)</a></code></pre></div>
</div>
<div id="references" class="section level4">
<h4><span class="header-section-number">6.4.2.8</span> references</h4>
<p>URL of the GBIF Backbone Taxonomy taxon on gbif.org:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb26-1" title="1">taxon <span class="op">%&lt;&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">dwc_references =</span> <span class="kw">paste0</span>(<span class="st">&quot;https://www.gbif.org/species/&quot;</span>, verificationKey))</a></code></pre></div>
</div>
<div id="taxonid" class="section level4">
<h4><span class="header-section-number">6.4.2.9</span> taxonID</h4>
<p>URL of the GBIF Backbone Taxonomy taxon on gbif.org:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb27-1" title="1">taxon <span class="op">%&lt;&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">dwc_taxonID =</span> <span class="kw">paste0</span>(<span class="st">&quot;https://www.gbif.org/species/&quot;</span>, verificationKey))</a></code></pre></div>
</div>
<div id="acceptednameusageid" class="section level4">
<h4><span class="header-section-number">6.4.2.10</span> acceptedNameUsageID</h4>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb28-1" title="1">taxon <span class="op">%&lt;&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">dwc_acceptedNameUsageID =</span> <span class="kw">case_when</span>(</a>
<a class="sourceLine" id="cb28-2" title="2">  <span class="kw">is.na</span>(acceptedKey) <span class="op">~</span><span class="st"> </span><span class="kw">paste0</span>(<span class="st">&quot;https://www.gbif.org/species/&quot;</span>, verificationKey), <span class="co"># If empty acceptedKey, use verificationKey</span></a>
<a class="sourceLine" id="cb28-3" title="3">  <span class="ot">TRUE</span> <span class="op">~</span><span class="st"> </span><span class="kw">paste0</span>(<span class="st">&quot;https://www.gbif.org/species/&quot;</span>, acceptedKey)</a>
<a class="sourceLine" id="cb28-4" title="4">))</a></code></pre></div>
</div>
<div id="scientificname" class="section level4">
<h4><span class="header-section-number">6.4.2.11</span> scientificName</h4>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb29-1" title="1">taxon <span class="op">%&lt;&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">dwc_scientificName =</span> scientificName)</a></code></pre></div>
</div>
<div id="acceptednameusage" class="section level4">
<h4><span class="header-section-number">6.4.2.12</span> acceptedNameUsage</h4>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb30-1" title="1">taxon <span class="op">%&lt;&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">dwc_acceptedNameUsage =</span> <span class="kw">case_when</span>(</a>
<a class="sourceLine" id="cb30-2" title="2">  <span class="kw">is.na</span>(acceptedName) <span class="op">~</span><span class="st"> </span>scientificName, <span class="co"># If empty acceptedName, use scientificName</span></a>
<a class="sourceLine" id="cb30-3" title="3">  <span class="ot">TRUE</span> <span class="op">~</span><span class="st"> </span><span class="kw">as.character</span>(acceptedName)</a>
<a class="sourceLine" id="cb30-4" title="4">))</a></code></pre></div>
</div>
<div id="kingdom" class="section level4">
<h4><span class="header-section-number">6.4.2.13</span> kingdom</h4>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb31-1" title="1">taxon <span class="op">%&lt;&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">dwc_kingdom =</span> kingdom)</a></code></pre></div>
</div>
<div id="phylum" class="section level4">
<h4><span class="header-section-number">6.4.2.14</span> phylum</h4>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb32-1" title="1">taxon <span class="op">%&lt;&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">dwc_phylum =</span> phylum)</a></code></pre></div>
</div>
<div id="class" class="section level4">
<h4><span class="header-section-number">6.4.2.15</span> class</h4>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb33-1" title="1">taxon <span class="op">%&lt;&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">dwc_class =</span> class)</a></code></pre></div>
</div>
<div id="order" class="section level4">
<h4><span class="header-section-number">6.4.2.16</span> order</h4>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb34-1" title="1">taxon <span class="op">%&lt;&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">dwc_order =</span> order)</a></code></pre></div>
</div>
<div id="family" class="section level4">
<h4><span class="header-section-number">6.4.2.17</span> family</h4>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb35-1" title="1">taxon <span class="op">%&lt;&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">dwc_family =</span> family)</a></code></pre></div>
</div>
<div id="genus" class="section level4">
<h4><span class="header-section-number">6.4.2.18</span> genus</h4>
<p><code>genus</code> is part of the higher classification, which is provided by the GBIF Backbone Taxonomy. We will use that, but note that for some synonyms it might differ from the genus in the scientific name:</p>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["verificationKey"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["scientificName"],"name":[2],"type":["chr"],"align":["left"]},{"label":["genus"],"name":[3],"type":["chr"],"align":["left"]},{"label":["canonicalName_genus"],"name":[4],"type":["chr"],"align":["left"]},{"label":["taxonomicStatus"],"name":[5],"type":["chr"],"align":["left"]}],"data":[{"1":"5356481","2":"Lathyrus cicera L.","3":"Astragalus","4":"Lathyrus","5":"SYNONYM"},{"1":"5386028","2":"Cyanus triumfettii (All.) Dostal ex A. & D.Love","3":"Centaurea","4":"Cyanus","5":"SYNONYM"},{"1":"5679819","2":"Spartina townsendii var. anglica C.E.Hubbard","3":"Sporobolus","4":"Spartina","5":"DOUBTFUL"},{"1":"7331240","2":"Halimium alyssoides K.Koch","3":"Cistus","4":"Halimium","5":"ACCEPTED"},{"1":"8078031","2":"Artemisia afra Jacq.","3":"Ptilostemon","4":"Artemisia","5":"SYNONYM"},{"1":"8180804","2":"Brachycome heterodonta DC.","3":"Vittadinia","4":"Brachycome","5":"DOUBTFUL"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb36-1" title="1">taxon <span class="op">%&lt;&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">dwc_genus =</span> genus)</a></code></pre></div>
</div>
<div id="specificepithet" class="section level4">
<h4><span class="header-section-number">6.4.2.19</span> specificEpithet</h4>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb37-1" title="1">taxon <span class="op">%&lt;&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">dwc_specificEpithet =</span> canonicalName_species)</a></code></pre></div>
</div>
<div id="infraspecificepithet" class="section level4">
<h4><span class="header-section-number">6.4.2.20</span> infraspecificEpithet</h4>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb38-1" title="1">taxon <span class="op">%&lt;&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">dwc_infraspecificEpithet =</span> canonicalName_infraspecific)</a></code></pre></div>
</div>
<div id="taxonrank" class="section level4">
<h4><span class="header-section-number">6.4.2.21</span> taxonRank</h4>
<p>Inspect values:</p>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["rank"],"name":[1],"type":["chr"],"align":["left"]},{"label":["n"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"GENUS","2":"11"},{"1":"SPECIES","2":"2747"},{"1":"SUBSPECIES","2":"103"},{"1":"VARIETY","2":"20"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Map values as is, in UPPERCASE, so it is clearer this information comes from the GBIF Backbone Taxonomy:</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb39-1" title="1">taxon <span class="op">%&lt;&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">dwc_taxonRank =</span> rank)</a></code></pre></div>
</div>
<div id="scientificnameauthorship" class="section level4">
<h4><span class="header-section-number">6.4.2.22</span> scientificNameAuthorship</h4>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb40-1" title="1">taxon <span class="op">%&lt;&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">dwc_scientificNameAuthorship =</span> authorship)</a></code></pre></div>
</div>
<div id="taxonomicstatus" class="section level4">
<h4><span class="header-section-number">6.4.2.23</span> taxonomicStatus</h4>
<p>Inspect values:</p>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["taxonomicStatus"],"name":[1],"type":["chr"],"align":["left"]},{"label":["n"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"ACCEPTED","2":"2814"},{"1":"DOUBTFUL","2":"55"},{"1":"SYNONYM","2":"12"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Map values as is, in UPPERCASE, so it is clearer this information comes from the GBIF Backbone Taxonomy:</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb41-1" title="1">taxon <span class="op">%&lt;&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">dwc_taxonomicStatus =</span> taxonomicStatus)</a></code></pre></div>
</div>
<div id="taxonremarks" class="section level4">
<h4><span class="header-section-number">6.4.2.24</span> taxonRemarks</h4>
<p>Here we list the checklists that were <em>considered</em> for unifying information about a taxon, i.e. the checklists we selected (see <a href="1_get_taxa.html#choose-checklists">1.1</a>) in which the taxon appeared and got through verification (see <a href="3_verify_taxa.html#verification">3.2</a>). In the case of multiple considered checklists, it is possible that not all of them are selected as a source (see <a href="6_dwc_mapping.html#citing-sources">6.3</a>) when unifying information.</p>
<p>The <code>datasetKey</code>s of the considered checklists are listed in <code>datasetKeys</code>. Since we want the DOI instead, we will separate this information into columns, gather to rows and join with the DOI, and spread and combine again into a single column.</p>
<p>Map to <code>taxonRemarks</code>:</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb42-1" title="1">taxon <span class="op">%&lt;&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">dwc_taxonRemarks =</span> <span class="kw">paste</span>(</a>
<a class="sourceLine" id="cb42-2" title="2">  <span class="st">&quot;Sources considered for this taxon:&quot;</span>, datasetDOIs</a>
<a class="sourceLine" id="cb42-3" title="3">))</a></code></pre></div>
</div>
</div>
<div id="post-processing" class="section level3">
<h3><span class="header-section-number">6.4.3</span> Post-processing</h3>
<ol style="list-style-type: decimal">
<li><p>Only keep the Darwin Core columns.</p></li>
<li><p>Drop the <code>dwc_</code> prefix.</p></li>
<li><p>Sort on <code>taxonID</code>.</p></li>
<li><p>Preview data:</p></li>
</ol>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["language"],"name":[1],"type":["chr"],"align":["left"]},{"label":["license"],"name":[2],"type":["chr"],"align":["left"]},{"label":["rightsHolder"],"name":[3],"type":["lgl"],"align":["right"]},{"label":["bibliographicCitation"],"name":[4],"type":["chr"],"align":["left"]},{"label":["datasetID"],"name":[5],"type":["chr"],"align":["left"]},{"label":["institutionCode"],"name":[6],"type":["chr"],"align":["left"]},{"label":["datasetName"],"name":[7],"type":["chr"],"align":["left"]},{"label":["references"],"name":[8],"type":["chr"],"align":["left"]},{"label":["taxonID"],"name":[9],"type":["chr"],"align":["left"]},{"label":["acceptedNameUsageID"],"name":[10],"type":["chr"],"align":["left"]},{"label":["scientificName"],"name":[11],"type":["chr"],"align":["left"]},{"label":["acceptedNameUsage"],"name":[12],"type":["chr"],"align":["left"]},{"label":["kingdom"],"name":[13],"type":["chr"],"align":["left"]},{"label":["phylum"],"name":[14],"type":["chr"],"align":["left"]},{"label":["class"],"name":[15],"type":["chr"],"align":["left"]},{"label":["order"],"name":[16],"type":["chr"],"align":["left"]},{"label":["family"],"name":[17],"type":["chr"],"align":["left"]},{"label":["genus"],"name":[18],"type":["chr"],"align":["left"]},{"label":["specificEpithet"],"name":[19],"type":["chr"],"align":["left"]},{"label":["infraspecificEpithet"],"name":[20],"type":["chr"],"align":["left"]},{"label":["taxonRank"],"name":[21],"type":["chr"],"align":["left"]},{"label":["scientificNameAuthorship"],"name":[22],"type":["chr"],"align":["left"]},{"label":["taxonomicStatus"],"name":[23],"type":["chr"],"align":["left"]},{"label":["taxonRemarks"],"name":[24],"type":["chr"],"align":["left"]}],"data":[{"1":"en","2":"http://creativecommons.org/licenses/by/4.0/legalcode","3":"NA","4":"https://www.gbif.org/species/1002621: Keratella tropica (Apstein, 1907) in GBIF Secretariat (2019). GBIF Backbone Taxonomy. Checklist dataset https://doi.org/10.15468/39omei","5":"https://doi.org/10.15468/xoidmd","6":"ISSG","7":"Global Register of Introduced and Invasive Species - Belgium","8":"https://www.gbif.org/species/1002621","9":"https://www.gbif.org/species/1002621","10":"https://www.gbif.org/species/1002621","11":"Keratella tropica (Apstein, 1907)","12":"Keratella tropica (Apstein, 1907)","13":"Animalia","14":"Rotifera","15":"Eurotatoria","16":"Ploima","17":"Brachionidae","18":"Keratella","19":"tropica","20":"NA","21":"SPECIES","22":"(Apstein, 1907)","23":"ACCEPTED","24":"Sources considered for this taxon: https://doi.org/10.14284/347"},{"1":"en","2":"http://creativecommons.org/licenses/by/4.0/legalcode","3":"NA","4":"https://www.gbif.org/species/1007534: Phaeostachys spinifera (Johnston, 1847) in GBIF Secretariat (2019). GBIF Backbone Taxonomy. Checklist dataset https://doi.org/10.15468/39omei","5":"https://doi.org/10.15468/xoidmd","6":"ISSG","7":"Global Register of Introduced and Invasive Species - Belgium","8":"https://www.gbif.org/species/1007534","9":"https://www.gbif.org/species/1007534","10":"https://www.gbif.org/species/1007534","11":"Phaeostachys spinifera (Johnston, 1847)","12":"Phaeostachys spinifera (Johnston, 1847)","13":"Animalia","14":"Bryozoa","15":"Gymnolaemata","16":"Cheilostomatida","17":"Escharinidae","18":"Phaeostachys","19":"spinifera","20":"NA","21":"SPECIES","22":"(Johnston, 1847)","23":"ACCEPTED","24":"Sources considered for this taxon: https://doi.org/10.14284/347"},{"1":"en","2":"http://creativecommons.org/licenses/by/4.0/legalcode","3":"NA","4":"https://www.gbif.org/species/1008610: Haplopoma graniferum (Johnston, 1847) in GBIF Secretariat (2019). GBIF Backbone Taxonomy. Checklist dataset https://doi.org/10.15468/39omei","5":"https://doi.org/10.15468/xoidmd","6":"ISSG","7":"Global Register of Introduced and Invasive Species - Belgium","8":"https://www.gbif.org/species/1008610","9":"https://www.gbif.org/species/1008610","10":"https://www.gbif.org/species/1008610","11":"Haplopoma graniferum (Johnston, 1847)","12":"Haplopoma graniferum (Johnston, 1847)","13":"Animalia","14":"Bryozoa","15":"Gymnolaemata","16":"Cheilostomatida","17":"Haplopomidae","18":"Haplopoma","19":"graniferum","20":"NA","21":"SPECIES","22":"(Johnston, 1847)","23":"ACCEPTED","24":"Sources considered for this taxon: https://doi.org/10.14284/347"},{"1":"en","2":"http://creativecommons.org/licenses/by/4.0/legalcode","3":"NA","4":"https://www.gbif.org/species/1008612: Haplopoma impressum (Audouin, 1826) in GBIF Secretariat (2019). GBIF Backbone Taxonomy. Checklist dataset https://doi.org/10.15468/39omei","5":"https://doi.org/10.15468/xoidmd","6":"ISSG","7":"Global Register of Introduced and Invasive Species - Belgium","8":"https://www.gbif.org/species/1008612","9":"https://www.gbif.org/species/1008612","10":"https://www.gbif.org/species/1008612","11":"Haplopoma impressum (Audouin, 1826)","12":"Haplopoma impressum (Audouin, 1826)","13":"Animalia","14":"Bryozoa","15":"Gymnolaemata","16":"Cheilostomatida","17":"Haplopomidae","18":"Haplopoma","19":"impressum","20":"NA","21":"SPECIES","22":"(Audouin, 1826)","23":"ACCEPTED","24":"Sources considered for this taxon: https://doi.org/10.14284/347"},{"1":"en","2":"http://creativecommons.org/licenses/by/4.0/legalcode","3":"NA","4":"https://www.gbif.org/species/1008955: Fenestrulina delicia Winston, Hayward & Craig, 2000 in GBIF Secretariat (2019). GBIF Backbone Taxonomy. Checklist dataset https://doi.org/10.15468/39omei","5":"https://doi.org/10.15468/xoidmd","6":"ISSG","7":"Global Register of Introduced and Invasive Species - Belgium","8":"https://www.gbif.org/species/1008955","9":"https://www.gbif.org/species/1008955","10":"https://www.gbif.org/species/1008955","11":"Fenestrulina delicia Winston, Hayward & Craig, 2000","12":"Fenestrulina delicia Winston, Hayward & Craig, 2000","13":"Animalia","14":"Bryozoa","15":"Gymnolaemata","16":"Cheilostomatida","17":"Fenestrulinidae","18":"Fenestrulina","19":"delicia","20":"NA","21":"SPECIES","22":"Winston, Hayward & Craig, 2000","23":"ACCEPTED","24":"Sources considered for this taxon: https://doi.org/10.14284/347"},{"1":"en","2":"http://creativecommons.org/licenses/by/4.0/legalcode","3":"NA","4":"https://www.gbif.org/species/1010644: Hanseniella caldaria (Hansen, 1903) in GBIF Secretariat (2019). GBIF Backbone Taxonomy. Checklist dataset https://doi.org/10.15468/39omei","5":"https://doi.org/10.15468/xoidmd","6":"ISSG","7":"Global Register of Introduced and Invasive Species - Belgium","8":"https://www.gbif.org/species/1010644","9":"https://www.gbif.org/species/1010644","10":"https://www.gbif.org/species/1010644","11":"Hanseniella caldaria (Hansen, 1903)","12":"Hanseniella caldaria (Hansen, 1903)","13":"Animalia","14":"Arthropoda","15":"Symphyla","16":"NA","17":"Scutigerellidae","18":"Hanseniella","19":"caldaria","20":"NA","21":"SPECIES","22":"(Hansen, 1903)","23":"ACCEPTED","24":"Sources considered for this taxon: https://doi.org/10.15468/3pmlxs"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<ol start="5" style="list-style-type: decimal">
<li>Save to <a href="https://github.com/trias-project/unified-checklist/blob/master/data/processed/taxon.csv">CSV</a>.</li>
</ol>
</div>
</div>
<div id="distribution-extension" class="section level2">
<h2><span class="header-section-number">6.5</span> Distribution extension</h2>
<div id="pre-processing-1" class="section level3">
<h3><span class="header-section-number">6.5.1</span> Pre-processing</h3>
<p>Create a dataframe <code>distribution</code> from the unified distributions.</p>
</div>
<div id="term-mapping-1" class="section level3">
<h3><span class="header-section-number">6.5.2</span> Term mapping</h3>
<p>Map the data to <a href="http://rs.gbif.org/extension/gbif/1.0/distribution.xml">Species Distribution</a>. Because of the scope (see <a href="1_get_taxa.html#filter-on-distribution">1.3</a>) of the dataset, we can set all distributions to <code>occurrenceStatus:present</code> and <code>establishmentMeans:introduced</code>.</p>
<div id="taxonid-1" class="section level4">
<h4><span class="header-section-number">6.5.2.1</span> taxonID</h4>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb43-1" title="1">distribution <span class="op">%&lt;&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">dwc_taxonID =</span> <span class="kw">paste0</span>(<span class="st">&quot;https://www.gbif.org/species/&quot;</span>, verificationKey))</a></code></pre></div>
</div>
<div id="locationid" class="section level4">
<h4><span class="header-section-number">6.5.2.2</span> locationID</h4>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb44-1" title="1">distribution <span class="op">%&lt;&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">dwc_locationID =</span> locationId)</a></code></pre></div>
</div>
<div id="locality" class="section level4">
<h4><span class="header-section-number">6.5.2.3</span> locality</h4>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb45-1" title="1">distribution <span class="op">%&lt;&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">dwc_locality =</span> locality)</a></code></pre></div>
</div>
<div id="countrycode" class="section level4">
<h4><span class="header-section-number">6.5.2.4</span> countryCode</h4>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb46-1" title="1">distribution <span class="op">%&lt;&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">dwc_countryCode =</span> <span class="st">&quot;BE&quot;</span>)</a></code></pre></div>
</div>
<div id="occurrencestatus" class="section level4">
<h4><span class="header-section-number">6.5.2.5</span> occurrenceStatus</h4>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb47-1" title="1">distribution <span class="op">%&lt;&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">dwc_occurrenceStatus =</span> <span class="st">&quot;present&quot;</span>)</a></code></pre></div>
</div>
<div id="establishmentmeans" class="section level4">
<h4><span class="header-section-number">6.5.2.6</span> establishmentMeans</h4>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb48-1" title="1">distribution <span class="op">%&lt;&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">dwc_establishmentMeans =</span> <span class="st">&quot;introduced&quot;</span>)</a></code></pre></div>
</div>
<div id="eventdate" class="section level4">
<h4><span class="header-section-number">6.5.2.7</span> eventDate</h4>
<p>The distribution information applies to a certain date range, which we will express here as an ISO 8601 date <code>yyyy/yyyy</code> (<code>startYear/endYear</code>). How the information for <code>startYear</code> and <code>endYear</code> is extracted from the source checklists, is described in <a href="5_unify_information.html#unify-distribution">5.3</a>. As a result, each taxon in <code>input_distribution</code> has <em>or</em> an <code>startYear</code> and an <code>endYear</code> <em>or</em> no <code>eventDate</code> information at all.</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb49-1" title="1">distribution <span class="op">%&lt;&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">dwc_eventDate =</span> <span class="kw">case_when</span>(</a>
<a class="sourceLine" id="cb49-2" title="2">  <span class="kw">is.na</span>(startYear) <span class="op">&amp;</span><span class="st"> </span><span class="kw">is.na</span>(endYear) <span class="op">~</span><span class="st"> &quot;&quot;</span>,</a>
<a class="sourceLine" id="cb49-3" title="3">  <span class="ot">TRUE</span> <span class="op">~</span><span class="st"> </span><span class="kw">paste</span>(startYear, endYear, <span class="dt">sep =</span> <span class="st">&quot;/&quot;</span>)</a>
<a class="sourceLine" id="cb49-4" title="4">))</a></code></pre></div>
</div>
<div id="source" class="section level4">
<h4><span class="header-section-number">6.5.2.8</span> source</h4>
<p>A distribution can have multiple source taxa (i.e. two verified synonyms from the same checklist). We therefore separate <code>datasetKeys</code> and <code>scientificNames</code> in a maximum of three columns and build a source (see <a href="6_dwc_mapping.html#citing-sources">6.3</a>) for each.</p>
<p>Combine three source columns and remove <code>NA</code>:</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb50-1" title="1">distribution <span class="op">%&lt;&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(</a>
<a class="sourceLine" id="cb50-2" title="2">  <span class="dt">dwc_source =</span> <span class="kw">paste</span>(source_<span class="dv">1</span>, source_<span class="dv">2</span>, source_<span class="dv">3</span>, <span class="dt">sep =</span> <span class="st">&quot; | &quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">str_remove_all</span>(<span class="st">&quot; </span><span class="ch">\\</span><span class="st">| NA&quot;</span>)</a>
<a class="sourceLine" id="cb50-3" title="3">)</a></code></pre></div>
</div>
</div>
<div id="post-processing-1" class="section level3">
<h3><span class="header-section-number">6.5.3</span> Post-processing</h3>
<ol style="list-style-type: decimal">
<li><p>Only keep the Darwin Core columns.</p></li>
<li><p>Drop the <code>dwc_</code> prefix.</p></li>
<li><p>Sort on <code>taxonID</code>.</p></li>
<li><p>Preview data:</p></li>
</ol>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["taxonID"],"name":[1],"type":["chr"],"align":["left"]},{"label":["locationID"],"name":[2],"type":["chr"],"align":["left"]},{"label":["locality"],"name":[3],"type":["chr"],"align":["left"]},{"label":["countryCode"],"name":[4],"type":["chr"],"align":["left"]},{"label":["occurrenceStatus"],"name":[5],"type":["chr"],"align":["left"]},{"label":["establishmentMeans"],"name":[6],"type":["chr"],"align":["left"]},{"label":["eventDate"],"name":[7],"type":["chr"],"align":["left"]},{"label":["source"],"name":[8],"type":["chr"],"align":["left"]}],"data":[{"1":"https://www.gbif.org/species/1002621","2":"ISO_3166-2:BE","3":"Belgium","4":"BE","5":"present","6":"introduced","7":"1974/1974","8":"https://www.gbif.org/species/157131084: Keratella tropica (Apstein, 1907) in Flanders Marine Institute (2019). World Register of Introduced Marine Species (WRiMS). Checklist dataset https://doi.org/10.14284/347"},{"1":"https://www.gbif.org/species/1007534","2":"ISO_3166-2:BE","3":"Belgium","4":"BE","5":"present","6":"introduced","7":"1999/2000","8":"https://www.gbif.org/species/157130955: Phaeostachys spinifera (Johnston, 1847) in Flanders Marine Institute (2019). World Register of Introduced Marine Species (WRiMS). Checklist dataset https://doi.org/10.14284/347"},{"1":"https://www.gbif.org/species/1007534","2":"ISO_3166-2:BE-VLG","3":"Flemish Region","4":"BE","5":"present","6":"introduced","7":"1999/2000","8":"https://www.gbif.org/species/157130955: Phaeostachys spinifera (Johnston, 1847) in Flanders Marine Institute (2019). World Register of Introduced Marine Species (WRiMS). Checklist dataset https://doi.org/10.14284/347"},{"1":"https://www.gbif.org/species/1008610","2":"ISO_3166-2:BE","3":"Belgium","4":"BE","5":"present","6":"introduced","7":"1999/2006","8":"https://www.gbif.org/species/157130989: Haplopoma graniferum (Johnston, 1847) in Flanders Marine Institute (2019). World Register of Introduced Marine Species (WRiMS). Checklist dataset https://doi.org/10.14284/347"},{"1":"https://www.gbif.org/species/1008610","2":"ISO_3166-2:BE-VLG","3":"Flemish Region","4":"BE","5":"present","6":"introduced","7":"1999/2006","8":"https://www.gbif.org/species/157130989: Haplopoma graniferum (Johnston, 1847) in Flanders Marine Institute (2019). World Register of Introduced Marine Species (WRiMS). Checklist dataset https://doi.org/10.14284/347"},{"1":"https://www.gbif.org/species/1008612","2":"ISO_3166-2:BE","3":"Belgium","4":"BE","5":"present","6":"introduced","7":"1999/2006","8":"https://www.gbif.org/species/157130988: Haplopoma impressum (Audouin, 1826) in Flanders Marine Institute (2019). World Register of Introduced Marine Species (WRiMS). Checklist dataset https://doi.org/10.14284/347"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<ol start="5" style="list-style-type: decimal">
<li>Save to <a href="https://github.com/trias-project/unified-checklist/blob/master/data/processed/distribution.csv">CSV</a>.</li>
</ol>
</div>
</div>
<div id="species-profile-extension" class="section level2">
<h2><span class="header-section-number">6.6</span> Species profile extension</h2>
<p>Create a dataframe <code>species_profile</code> from the unified species profiles.</p>
<div id="term-mapping-2" class="section level3">
<h3><span class="header-section-number">6.6.1</span> Term mapping</h3>
<p>Map the data to <a href="http://rs.gbif.org/extension/gbif/1.0/speciesprofile.xml">Species Profile</a>.</p>
<div id="taxonid-2" class="section level4">
<h4><span class="header-section-number">6.6.1.1</span> taxonID</h4>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb51-1" title="1">species_profile <span class="op">%&lt;&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">dwc_taxonID =</span> <span class="kw">paste0</span>(<span class="st">&quot;https://www.gbif.org/species/&quot;</span>, verificationKey))</a></code></pre></div>
</div>
<div id="ismarine" class="section level4">
<h4><span class="header-section-number">6.6.1.2</span> isMarine</h4>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb52-1" title="1">species_profile <span class="op">%&lt;&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">dwc_isMarine =</span> marine)</a></code></pre></div>
</div>
<div id="isfreshwater" class="section level4">
<h4><span class="header-section-number">6.6.1.3</span> isFreshwater</h4>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb53-1" title="1">species_profile <span class="op">%&lt;&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">dwc_isFreshwater =</span> freshwater)</a></code></pre></div>
</div>
<div id="isterrestrial" class="section level4">
<h4><span class="header-section-number">6.6.1.4</span> isTerrestrial</h4>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb54-1" title="1">species_profile <span class="op">%&lt;&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">dwc_isTerrestrial =</span> terrestrial)</a></code></pre></div>
</div>
<div id="isinvasive" class="section level4">
<h4><span class="header-section-number">6.6.1.5</span> isInvasive</h4>
<p>The source checklists currently do not include information on the invasive nature of the taxa. We plan to add that information in an update of the dataset.</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb55-1" title="1">species_profile <span class="op">%&lt;&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">dwc_isInvasive =</span> <span class="st">&quot;&quot;</span>)</a></code></pre></div>
</div>
<div id="habitat" class="section level4">
<h4><span class="header-section-number">6.6.1.6</span> habitat</h4>
<p>ISSG also used the field <code>habitat</code>, in which we will summarize the information from <code>isMarine</code>, <code>isFreshwater</code> and <code>isTerrestrial</code>.</p>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["marine"],"name":[1],"type":["lgl"],"align":["right"]},{"label":["freshwater"],"name":[2],"type":["lgl"],"align":["right"]},{"label":["terrestrial"],"name":[3],"type":["lgl"],"align":["right"]},{"label":["records"],"name":[4],"type":["int"],"align":["right"]}],"data":[{"1":"FALSE","2":"FALSE","3":"TRUE","4":"2535"},{"1":"FALSE","2":"TRUE","3":"FALSE","4":"231"},{"1":"FALSE","2":"TRUE","3":"TRUE","4":"14"},{"1":"TRUE","2":"FALSE","3":"FALSE","4":"49"},{"1":"TRUE","2":"TRUE","3":"FALSE","4":"8"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Map <code>habitat</code>:</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb56-1" title="1">species_profile <span class="op">%&lt;&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">dwc_habitat =</span> <span class="kw">case_when</span>(</a>
<a class="sourceLine" id="cb56-2" title="2">  marine <span class="op">==</span><span class="st"> &quot;FALSE&quot;</span> <span class="op">&amp;</span><span class="st"> </span>freshwater <span class="op">==</span><span class="st"> &quot;FALSE&quot;</span> <span class="op">&amp;</span><span class="st"> </span>terrestrial <span class="op">==</span><span class="st"> &quot;TRUE&quot;</span> <span class="op">~</span><span class="st"> &quot;terrestrial&quot;</span>,</a>
<a class="sourceLine" id="cb56-3" title="3">  marine <span class="op">==</span><span class="st"> &quot;FALSE&quot;</span> <span class="op">&amp;</span><span class="st"> </span>freshwater <span class="op">==</span><span class="st"> &quot;TRUE&quot;</span> <span class="op">&amp;</span><span class="st"> </span>terrestrial <span class="op">==</span><span class="st"> &quot;FALSE&quot;</span> <span class="op">~</span><span class="st"> &quot;freshwater&quot;</span>,</a>
<a class="sourceLine" id="cb56-4" title="4">  marine <span class="op">==</span><span class="st"> &quot;FALSE&quot;</span> <span class="op">&amp;</span><span class="st"> </span>freshwater <span class="op">==</span><span class="st"> &quot;TRUE&quot;</span> <span class="op">&amp;</span><span class="st"> </span>terrestrial <span class="op">==</span><span class="st"> &quot;TRUE&quot;</span> <span class="op">~</span><span class="st"> &quot;freshwater|terrestrial&quot;</span>,</a>
<a class="sourceLine" id="cb56-5" title="5">  marine <span class="op">==</span><span class="st"> &quot;TRUE&quot;</span> <span class="op">&amp;</span><span class="st"> </span>freshwater <span class="op">==</span><span class="st"> &quot;FALSE&quot;</span> <span class="op">&amp;</span><span class="st"> </span>terrestrial <span class="op">==</span><span class="st"> &quot;FALSE&quot;</span> <span class="op">~</span><span class="st"> &quot;marine&quot;</span>,</a>
<a class="sourceLine" id="cb56-6" title="6">  marine <span class="op">==</span><span class="st"> &quot;TRUE&quot;</span> <span class="op">&amp;</span><span class="st"> </span>freshwater <span class="op">==</span><span class="st"> &quot;FALSE&quot;</span> <span class="op">&amp;</span><span class="st"> </span>terrestrial <span class="op">==</span><span class="st"> &quot;TRUE&quot;</span> <span class="op">~</span><span class="st"> &quot;marine|terrestrial&quot;</span>,</a>
<a class="sourceLine" id="cb56-7" title="7">  marine <span class="op">==</span><span class="st"> &quot;TRUE&quot;</span> <span class="op">&amp;</span><span class="st"> </span>freshwater <span class="op">==</span><span class="st"> &quot;TRUE&quot;</span> <span class="op">&amp;</span><span class="st"> </span>terrestrial <span class="op">==</span><span class="st"> &quot;FALSE&quot;</span> <span class="op">~</span><span class="st"> &quot;marine|freshwater&quot;</span>,</a>
<a class="sourceLine" id="cb56-8" title="8">  marine <span class="op">==</span><span class="st"> &quot;TRUE&quot;</span> <span class="op">&amp;</span><span class="st"> </span>freshwater <span class="op">==</span><span class="st"> &quot;TRUE&quot;</span> <span class="op">&amp;</span><span class="st"> </span>terrestrial <span class="op">==</span><span class="st"> &quot;TRUE&quot;</span> <span class="op">~</span><span class="st"> &quot;marine|freshwater|terrestrial&quot;</span></a>
<a class="sourceLine" id="cb56-9" title="9">))</a></code></pre></div>
<p>Show mapping:</p>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["dwc_isMarine"],"name":[1],"type":["lgl"],"align":["right"]},{"label":["dwc_isFreshwater"],"name":[2],"type":["lgl"],"align":["right"]},{"label":["dwc_isTerrestrial"],"name":[3],"type":["lgl"],"align":["right"]},{"label":["dwc_habitat"],"name":[4],"type":["chr"],"align":["left"]},{"label":["records"],"name":[5],"type":["int"],"align":["right"]}],"data":[{"1":"FALSE","2":"FALSE","3":"TRUE","4":"terrestrial","5":"2535"},{"1":"FALSE","2":"TRUE","3":"FALSE","4":"freshwater","5":"231"},{"1":"FALSE","2":"TRUE","3":"TRUE","4":"freshwater|terrestrial","5":"14"},{"1":"TRUE","2":"FALSE","3":"FALSE","4":"marine","5":"49"},{"1":"TRUE","2":"TRUE","3":"FALSE","4":"marine|freshwater","5":"8"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div id="source-1" class="section level4">
<h4><span class="header-section-number">6.6.1.7</span> source</h4>
<p>See <a href="6_dwc_mapping.html#citing-sources">6.3</a>:</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb57-1" title="1">species_profile <span class="op">%&lt;&gt;%</span><span class="st"> </span><span class="kw">add_source_citation</span>(</a>
<a class="sourceLine" id="cb57-2" title="2">  <span class="dt">new_column =</span> <span class="st">&quot;dwc_source&quot;</span>,</a>
<a class="sourceLine" id="cb57-3" title="3">  <span class="dt">dataset_info =</span> checklists</a>
<a class="sourceLine" id="cb57-4" title="4">)</a></code></pre></div>
</div>
</div>
<div id="post-processing-2" class="section level3">
<h3><span class="header-section-number">6.6.2</span> Post-processing</h3>
<ol style="list-style-type: decimal">
<li><p>Only keep the Darwin Core columns.</p></li>
<li><p>Drop the <code>dwc_</code> prefix.</p></li>
<li><p>Sort on <code>taxonID</code>.</p></li>
<li><p>Preview data:</p></li>
</ol>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["taxonID"],"name":[1],"type":["chr"],"align":["left"]},{"label":["isMarine"],"name":[2],"type":["lgl"],"align":["right"]},{"label":["isFreshwater"],"name":[3],"type":["lgl"],"align":["right"]},{"label":["isTerrestrial"],"name":[4],"type":["lgl"],"align":["right"]},{"label":["isInvasive"],"name":[5],"type":["chr"],"align":["left"]},{"label":["habitat"],"name":[6],"type":["chr"],"align":["left"]},{"label":["source"],"name":[7],"type":["chr"],"align":["left"]}],"data":[{"1":"https://www.gbif.org/species/1002621","2":"FALSE","3":"TRUE","4":"FALSE","5":"","6":"freshwater","7":"https://www.gbif.org/species/157131084: Keratella tropica (Apstein, 1907) in Flanders Marine Institute (2019). World Register of Introduced Marine Species (WRiMS). Checklist dataset https://doi.org/10.14284/347"},{"1":"https://www.gbif.org/species/1007534","2":"TRUE","3":"FALSE","4":"FALSE","5":"","6":"marine","7":"https://www.gbif.org/species/157130955: Phaeostachys spinifera (Johnston, 1847) in Flanders Marine Institute (2019). World Register of Introduced Marine Species (WRiMS). Checklist dataset https://doi.org/10.14284/347"},{"1":"https://www.gbif.org/species/1008610","2":"TRUE","3":"FALSE","4":"FALSE","5":"","6":"marine","7":"https://www.gbif.org/species/157130989: Haplopoma graniferum (Johnston, 1847) in Flanders Marine Institute (2019). World Register of Introduced Marine Species (WRiMS). Checklist dataset https://doi.org/10.14284/347"},{"1":"https://www.gbif.org/species/1008612","2":"TRUE","3":"FALSE","4":"FALSE","5":"","6":"marine","7":"https://www.gbif.org/species/157130988: Haplopoma impressum (Audouin, 1826) in Flanders Marine Institute (2019). World Register of Introduced Marine Species (WRiMS). Checklist dataset https://doi.org/10.14284/347"},{"1":"https://www.gbif.org/species/1008955","2":"TRUE","3":"FALSE","4":"FALSE","5":"","6":"marine","7":"https://www.gbif.org/species/157130960: Fenestrulina delicia Winston, Hayward & Craig, 2000 in Flanders Marine Institute (2019). World Register of Introduced Marine Species (WRiMS). Checklist dataset https://doi.org/10.14284/347"},{"1":"https://www.gbif.org/species/1010644","2":"FALSE","3":"FALSE","4":"TRUE","5":"","6":"terrestrial","7":"https://www.gbif.org/species/148437977: Hanseniella caldaria (Hansen, 1903) in Reyserhove L, Groom Q, Adriaens T, Desmet P, Dekoninck W, Van Keer K, Lock K (2018). Ad hoc checklist of alien species in Belgium. Version 1.2. Research Institute for Nature and Forest (INBO). Checklist dataset https://doi.org/10.15468/3pmlxs"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<ol start="5" style="list-style-type: decimal">
<li>Save to <a href="https://github.com/trias-project/unified-checklist/blob/master/data/processed/speciesprofile.csv">CSV</a>.</li>
</ol>
</div>
</div>
<div id="description-extension" class="section level2">
<h2><span class="header-section-number">6.7</span> Description extension</h2>
<div id="pre-processing-2" class="section level3">
<h3><span class="header-section-number">6.7.1</span> Pre-processing</h3>
<p>Create a dataframe <code>description</code> from the unified descriptions.</p>
</div>
<div id="term-mapping-3" class="section level3">
<h3><span class="header-section-number">6.7.2</span> Term mapping</h3>
<p>Map the data to <a href="http://rs.gbif.org/extension/gbif/1.0/description.xml">Taxon Description</a>.</p>
<div id="taxonid-3" class="section level4">
<h4><span class="header-section-number">6.7.2.1</span> taxonID</h4>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb58-1" title="1">description <span class="op">%&lt;&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">dwc_taxonID =</span> <span class="kw">paste0</span>(<span class="st">&quot;https://www.gbif.org/species/&quot;</span>, verificationKey))</a></code></pre></div>
</div>
<div id="description" class="section level4">
<h4><span class="header-section-number">6.7.2.2</span> description</h4>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb59-1" title="1">description <span class="op">%&lt;&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">dwc_description =</span> description)</a></code></pre></div>
</div>
<div id="type" class="section level4">
<h4><span class="header-section-number">6.7.2.3</span> type</h4>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb60-1" title="1">description <span class="op">%&lt;&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">dwc_type =</span> type)</a></code></pre></div>
</div>
<div id="language-1" class="section level4">
<h4><span class="header-section-number">6.7.2.4</span> language</h4>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb61-1" title="1">description <span class="op">%&lt;&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">dwc_language =</span> <span class="st">&quot;en&quot;</span>)</a></code></pre></div>
</div>
<div id="source-2" class="section level4">
<h4><span class="header-section-number">6.7.2.5</span> source</h4>
<p>See <a href="6_dwc_mapping.html#citing-sources">6.3</a>:</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb62-1" title="1">description <span class="op">%&lt;&gt;%</span><span class="st"> </span><span class="kw">add_source_citation</span>(</a>
<a class="sourceLine" id="cb62-2" title="2">  <span class="dt">new_column =</span> <span class="st">&quot;dwc_source&quot;</span>,</a>
<a class="sourceLine" id="cb62-3" title="3">  <span class="dt">dataset_info =</span> checklists</a>
<a class="sourceLine" id="cb62-4" title="4">)</a></code></pre></div>
</div>
</div>
<div id="post-processing-3" class="section level3">
<h3><span class="header-section-number">6.7.3</span> Post-processing</h3>
<ol style="list-style-type: decimal">
<li><p>Only keep the Darwin Core columns.</p></li>
<li><p>Drop the <code>dwc_</code> prefix.</p></li>
<li><p>Sort on <code>taxonID</code>.</p></li>
<li><p>Preview data:</p></li>
</ol>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["taxonID"],"name":[1],"type":["chr"],"align":["left"]},{"label":["description"],"name":[2],"type":["chr"],"align":["left"]},{"label":["type"],"name":[3],"type":["chr"],"align":["left"]},{"label":["language"],"name":[4],"type":["chr"],"align":["left"]},{"label":["source"],"name":[5],"type":["chr"],"align":["left"]}],"data":[{"1":"https://www.gbif.org/species/1002621","2":"in Belgian part of the North Sea: Other","3":"Introduced species vector dispersal","4":"en","5":"https://www.gbif.org/species/157131084: Keratella tropica (Apstein, 1907) in Flanders Marine Institute (2019). World Register of Introduced Marine Species (WRiMS). Checklist dataset https://doi.org/10.14284/347"},{"1":"https://www.gbif.org/species/1002621","2":"in Belgian part of the North Sea: Ships: accidental with ballast water, sea water systems, live wells or other deck basins","3":"Introduced species vector dispersal","4":"en","5":"https://www.gbif.org/species/157131084: Keratella tropica (Apstein, 1907) in Flanders Marine Institute (2019). World Register of Introduced Marine Species (WRiMS). Checklist dataset https://doi.org/10.14284/347"},{"1":"https://www.gbif.org/species/1008955","2":"in Belgian part of the North Sea: Aquaculture: accidental","3":"Introduced species vector dispersal","4":"en","5":"https://www.gbif.org/species/157130960: Fenestrulina delicia Winston, Hayward & Craig, 2000 in Flanders Marine Institute (2019). World Register of Introduced Marine Species (WRiMS). Checklist dataset https://doi.org/10.14284/347"},{"1":"https://www.gbif.org/species/10172912","2":"established","3":"invasion stage","4":"en","5":"https://www.gbif.org/species/141267189: Cerastium x maureri M. Schulze in Verloove F, Groom Q, Brosens D, Desmet P, Reyserhove L (2019). Manual of the Alien Plants of Belgium. Version 1.8. Botanic Garden Meise. Checklist dataset https://doi.org/10.15468/wtda1m"},{"1":"https://www.gbif.org/species/10172912","2":"hybrid origin","3":"native range","4":"en","5":"https://www.gbif.org/species/141267189: Cerastium x maureri M. Schulze in Verloove F, Groom Q, Brosens D, Desmet P, Reyserhove L (2019). Manual of the Alien Plants of Belgium. Version 1.8. Botanic Garden Meise. Checklist dataset https://doi.org/10.15468/wtda1m"},{"1":"https://www.gbif.org/species/10173593","2":"casual","3":"invasion stage","4":"en","5":"https://www.gbif.org/species/141266452: Geranium x magnificum Hyl. in Verloove F, Groom Q, Brosens D, Desmet P, Reyserhove L (2019). Manual of the Alien Plants of Belgium. Version 1.8. Botanic Garden Meise. Checklist dataset https://doi.org/10.15468/wtda1m"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<ol start="5" style="list-style-type: decimal">
<li>Save to <a href="https://github.com/trias-project/unified-checklist/blob/master/data/processed/description.csv">CSV</a>.</li>
</ol>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="5_unify_information.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="7_griis_mapping.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": {}
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/trias-project/unified-checklist/blob/master/src/6_dwc_mapping.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
},
"search": false
});
});
</script>

</body>

</html>
